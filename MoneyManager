package github;

import java.util.ArrayList;
import java.util.Scanner;

import money.ElementarySchoolMoney;
import money.HighSchoolMoney;
import money.Money;
import money.MoneyInput;
import money.MoneyKind;
import money.UniversityMoney;

public class MoneyManager {
	ArrayList<MoneyInput> moneys = new ArrayList<MoneyInput>();
	Scanner input;
	MoneyManager(Scanner input){
		this.input = input;
	}

	public void addmoney() {
		int kind = 0;
		MoneyInput moneyInput;
		while(kind != 1 && kind != 2) {
			System.out.println("1 for University");
			System.out.println("2 for High School");
			System.out.println("3 for Elementary School");
			System.out.print("Select num 1, 2, or 3for Money Kind : ");
			kind = input.nextInt();
			if (kind == 1) {
				moneyInput =new UniversityMoney(MoneyKind.University);
				moneyInput.getUserInput(input);
				moneys.add(moneyInput);
				break;
			}
			else if (kind ==2) {
				moneyInput =new HighSchoolMoney(MoneyKind.HighSchool);
				moneyInput.getUserInput(input);
				moneys.add(moneyInput);
				break;

			}
			else if (kind ==3) {
				moneyInput =new ElementarySchoolMoney(MoneyKind.ElementarySchool);
				moneyInput.getUserInput(input);
				moneys.add(moneyInput);
				break;

			}
			else {
				System.out.print("Select num for Money Kind between 1 and 2:");
			}
		}
	}

	public void deletemoney() {
		System.out.print("money ID:");
		int moneyId = input.nextInt();
		int index = findIndex(moneyId);
		removefromMoneys(index, moneyId);
	}
	public int findIndex(int moneyId) {
		int index = -1;
		for (int i = 0; i<moneys.size(); i++) {
			if (moneys.get(i).getId() == moneyId) {
				index = i;
				break;
			}
		}
		return index;
	}
	public int removefromMoneys(int index, int moneyId) {
		if(index >= 0) {
			moneys.remove(index);
			System.out.println("the money" + moneyId +" is deleted");
			return 1;
		}
		else {
			System.out.println("the money has not been registered");
			return -1;
		}
	}
	public void editmoney() {
		System.out.print("money ID:");
		int moneyId = input.nextInt();
		for (int i = 0; i<moneys.size(); i++) {
			MoneyInput money = moneys.get(i);
			if (money.getId() == moneyId) {
				int num = -1;
				while(num !=5) {
					showEditMenu();
					num = input.nextInt();
					switch(num) {
					case 1:
						money.setMoneyID(input);
						break;
					case 2:
						money.setMoneyName(input);
						break;
					case 3:
						money.setMoneyEmail(input);
						break;
					case 4:
						money.setMoneyPhone(input);
						break;
					default:
						continue;
					}
				}//while
				break;
			}//if
		}//for
	}
	public void viewmoneys() {
		System.out.println("# of registerd moneys:"+ moneys.size());
		for (int i = 0; i<moneys.size(); i++) {
			moneys.get(i).printInfo();
		}
	}


	public void showEditMenu() {
		System.out.println("** money Info Edit Menu **");
		System.out.println("  1. Edit Id");
		System.out.println("  2. Edit Name");
		System.out.println("  3. Edit Email");
		System.out.println("  4. Edit Phone");
		System.out.println("  5. Exit");
		System.out.println("Select one number between 1 - 5:");
	}
}
